# üîÑ WORKFLOW –õ–û–ö–ê–õ–¨–ù–û–ô –†–ê–ó–†–ê–ë–û–¢–ö–ò

## üéØ –ü–†–ò–ù–¶–ò–ü–´ –†–ê–ë–û–¢–´

### ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

1. **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ MacBook**
2. **–†–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**
3. **–ù–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (Supabase, Railway, Vercel)
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ** –ø–µ—Ä–µ–¥ –ª—é–±—ã–º –¥–µ–ø–ª–æ–µ–º

### üöÄ Production –¥–µ–ø–ª–æ–π (—Ç–æ–ª—å–∫–æ –ø–æ –∫–æ–º–∞–Ω–¥–µ)

1. **–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**
2. **–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —è–≤–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã** `./deploy_production.sh`
3. **–ù–∏–∫–æ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

---

## üìã –ï–ñ–ï–î–ù–ï–í–ù–´–ô WORKFLOW

### –£—Ç—Ä–æ: –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

```bash
# 1. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
./start_local.sh

# 3. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
open http://localhost:3000
```

### –î–µ–Ω—å: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–î–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ**
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ** (http://localhost:3000)
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏:**
   - Backend: `tail -f logs/backend.log`
   - Frontend: `tail -f logs/frontend.log`

### –í–µ—á–µ—Ä: –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
./stop_local.sh

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
pytest tests/ -v
cd web-ui && npm run test

# 3. –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ - –∫–æ–º–º–∏—Ç
git add .
git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

### –ü–æ–ª–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–æ–≤

```bash
# 1. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã backend
pytest tests/ -v --cov

# 2. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã frontend
cd web-ui
npm run test
npm run test:e2e

# 3. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
# - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# - –õ–æ–≥–∏–Ω
# - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
# - –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
# - AI —á–∞—Ç
# - Workflows

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
grep -i error logs/backend.log
grep -i error logs/frontend.log
```

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- [ ] `.env` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç production —Å–µ–∫—Ä–µ—Ç–æ–≤
- [ ] `ENVIRONMENT=development` –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º `.env`

---

## üöÄ –î–ï–ü–õ–û–ô –ù–ê PRODUCTION

### –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤!

```bash
# 1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
pytest tests/ -v
cd web-ui && npm run test

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ ENVIRONMENT=development –≤ .env
grep ENVIRONMENT .env

# 3. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "feat: –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é"
git push

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã!)
./deploy_production.sh
```

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –î–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ ENVIRONMENT=development** –ª–æ–∫–∞–ª—å–Ω–æ
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ENVIRONMENT=production** –Ω–∞ production
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å production –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** (Supabase)
4. **–î–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway** (backend)
5. **–î–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel** (frontend)

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –¥–µ–ª–∞—Ç—å:

1. **–ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `.env`** - –≤—Å–µ–≥–¥–∞ –≤ `.gitignore`
2. **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å production —Å–µ–∫—Ä–µ—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ**
3. **–ù–µ –¥–µ–ø–ª–æ–∏—Ç—å –±–µ–∑ —Ç–µ—Å—Ç–æ–≤**
4. **–ù–µ –º–µ–Ω—è—Ç—å `ENVIRONMENT=production` –ª–æ–∫–∞–ª—å–Ω–æ**

### ‚úÖ –í–°–ï–ì–î–ê –¥–µ–ª–∞—Ç—å:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ENVIRONMENT=development` –ª–æ–∫–∞–ª—å–Ω–æ**
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º**
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ –¥–ª—è production**

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –õ–û–ö–ê–õ–¨–ù–û–ô –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# Health check
curl http://localhost:8000/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python -c "from agents.database import get_db; db = get_db(); print('‚úÖ DB OK')"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
curl http://localhost:3000
```

### –õ–æ–≥–∏

```bash
# Backend –ª–æ–≥–∏
tail -f logs/backend.log

# Frontend –ª–æ–≥–∏
tail -f logs/frontend.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep -i error logs/*.log
```

---

## üÜò TROUBLESHOOTING

### –ü—Ä–æ–±–ª–µ–º–∞: Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Python –≤–µ—Ä—Å–∏—é
python --version  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 3.11+

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip list | grep fastapi

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env
cat .env | grep ENVIRONMENT  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å development

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --upgrade
```

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env.local
cat web-ui/.env.local  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å NEXT_PUBLIC_API_URL=http://localhost:8000

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
curl http://localhost:8000/api/health

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd web-ui && npm install
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
./stop_local.sh

# –£–¥–∞–ª–∏—Ç—å lock —Ñ–∞–π–ª
rm -f data/history.db-journal

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
./start_local.sh
```

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [QUICK_START_LOCAL.md](QUICK_START_LOCAL.md)
- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** [LOCAL_DEVELOPMENT_GUIDE.md](LOCAL_DEVELOPMENT_GUIDE.md)
- **Production –¥–µ–ø–ª–æ–π:** [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)
- **Troubleshooting:** [TROUBLESHOOTING.md](TROUBLESHOOTING.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-05  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

