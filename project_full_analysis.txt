=== PROJECT ANALYSIS ===
Date: $(date)
Project: AIAssistant OS Platform

=== STRUCTURE ===

=== ROOT STRUCTURE ===
total 1096
-rw-r--r--@  1 js  staff   3.8K Oct 30 15:28  .cursorrules
drwxr-xr-x  77 js  staff   2.4K Nov  4 12:44 .
drwxr-x---+ 66 js  staff   2.1K Nov  4 12:44 ..
-rw-r--r--@  1 js  staff   8.0K Nov  3 13:45 .DS_Store
drwx------@  3 js  staff    96B Nov  4 11:59 .claude
drwxr-xr-x@  5 js  staff   160B Oct 31 00:50 .cursor
-rw-r--r--@  1 js  staff   690B Oct 31 12:25 .cursorrules
-rw-r--r--@  1 js  staff   3.5K Nov  1 12:26 .env
-rw-r--r--@  1 js  staff   2.1K Oct 29 00:27 .env.backup
-rw-r--r--@  1 js  staff   1.6K Oct 30 23:47 .env.example
drwxr-xr-x@ 13 js  staff   416B Nov  4 07:28 .git
-rw-r--r--@  1 js  staff   332B Nov  4 07:03 .gitignore
drwxr-xr-x@  4 js  staff   128B Nov  3 14:22 .vercel
-rw-r--r--@  1 js  staff   137B Nov  3 14:15 .vercelignore
-rw-r--r--@  1 js  staff   9.4K Nov  3 14:38 CHAT_SIDEBAR_FEATURE.md
-rw-r--r--@  1 js  staff   5.4K Oct 31 10:37 CHEATSHEET.md
-rw-r--r--@  1 js  staff   3.7K Nov  4 07:02 CLEANUP_PLAN.md
-rw-r--r--@  1 js  staff   8.7K Nov  4 07:36 CURRENT_STATE_ASSESSMENT.md
-rw-r--r--@  1 js  staff   6.3K Oct 31 10:36 DEPLOY.md
-rw-r--r--@  1 js  staff   2.0K Oct 31 10:52 DEPLOY_QUICK.md
-rw-r--r--@  1 js  staff   6.5K Nov  3 14:30 FILE_UPLOAD_FEATURE.md
-rw-r--r--@  1 js  staff   8.1K Nov  4 11:21 INTEGRATION_TEST_RESULTS.md
-rw-r--r--@  1 js  staff    11K Nov  4 10:25 MODULE_4_SUMMARY.md
-rw-r--r--@  1 js  staff   5.5K Nov  3 11:53 NEW_TABLES_SUMMARY.md
-rw-r--r--@  1 js  staff    15K Nov  4 10:35 PROGRESS_SUMMARY.md
-rw-r--r--@  1 js  staff   1.7K Oct 30 15:40 PROMPTS.md
-rw-r--r--@  1 js  staff    56B Oct 31 10:49 Procfile
-rw-r--r--@  1 js  staff   4.5K Oct 31 00:05 QUICKSTART.md
-rw-r--r--@  1 js  staff   3.0K Nov  4 06:57 QUICK_VERCEL_DEPLOY.md
-rw-r--r--@  1 js  staff   5.6K Oct 31 11:51 RAILWAY_DEPLOY_STEPS.md
-rw-r--r--@  1 js  staff   7.7K Nov  4 06:39 RAILWAY_TEST_RESULTS.md
-rw-r--r--@  1 js  staff   3.8K Nov  4 06:14 RAILWAY_VARIABLES.md
-rw-r--r--@  1 js  staff    10K Nov  4 00:02 README.md
-rw-r--r--@  1 js  staff   4.8K Nov  4 06:42 README_RAILWAY.md
-rw-r--r--@  1 js  staff   5.6K Nov  4 07:01 SECURITY_CHECK.md
-rw-r--r--@  1 js  staff   6.3K Nov  4 07:04 SECURITY_FINAL_REPORT.md
-rw-r--r--@  1 js  staff   4.8K Nov  4 07:42 TASK_1.3_COMPLETED.md
-rw-r--r--@  1 js  staff   6.1K Nov  4 07:56 TASK_2.1_COMPLETED.md
-rw-r--r--@  1 js  staff    14K Nov  4 08:06 TASK_2.2_COMPLETED.md
-rw-r--r--@  1 js  staff   8.6K Nov  4 08:09 TASK_2.3_COMPLETED.md
-rw-r--r--@  1 js  staff    14K Nov  4 08:14 TASK_3.1_COMPLETED.md
-rw-r--r--@  1 js  staff    18K Nov  4 08:29 TASK_3.2_COMPLETED.md
-rw-r--r--@  1 js  staff    18K Nov  4 08:40 TASK_3.3_COMPLETED.md
-rw-r--r--@  1 js  staff    19K Nov  4 08:41 TASK_4.1_COMPLETED.md
-rw-r--r--@  1 js  staff    17K Nov  4 09:15 TASK_4.2_COMPLETED.md
-rw-r--r--@  1 js  staff    19K Nov  4 10:18 TASK_4.3_COMPLETED.md
-rw-r--r--@  1 js  staff    14K Nov  4 10:35 TASK_5.1_COMPLETED.md
-rw-r--r--@  1 js  staff    19K Nov  4 11:04 TASK_5.2_COMPLETED.md
-rw-r--r--@  1 js  staff   5.3K Nov  4 06:40 TROUBLESHOOTING.md
-rw-r--r--@  1 js  staff   6.2K Nov  4 06:58 VERCEL_DEPLOYMENT_SUMMARY.md
-rw-r--r--@  1 js  staff   5.0K Nov  4 06:56 VERCEL_SETUP.md
-rwxr-xr-x@  1 js  staff   2.0K Nov  4 06:13 add_railway_variables.sh
drwxr-xr-x@ 10 js  staff   320B Nov  4 11:53 agents
drwxr-xr-x@  3 js  staff    96B Nov  4 12:03 api
drwxr-xr-x@  2 js  staff    64B Oct 30 13:46 app
-rwxr-xr-x@  1 js  staff   1.2K Nov  4 07:02 cleanup.sh
drwxr-xr-x@  4 js  staff   128B Nov  4 12:04 data
-rwxr-xr-x@  1 js  staff   6.5K Oct 31 10:51 deploy_railway.sh
-rwxr-xr-x@  1 js  staff   1.0K Nov  4 06:56 deploy_vercel.sh
-rw-r--r--@  1 js  staff   3.7K Oct 29 01:49 docker-compose.yml
drwxr-xr-x@  2 js  staff    64B Oct 29 01:54 logs
-rw-r--r--@  1 js  staff   115B Nov  4 12:44 project_full_analysis.txt
-rw-r--r--@  1 js  staff   269B Nov  3 22:36 railway.json
-rw-r--r--@  1 js  staff   4.4K Oct 30 14:01 rankings_update.log
-rw-r--r--@  1 js  staff   709B Nov  4 00:02 requirements.txt
drwxr-xr-x@ 11 js  staff   352B Nov  4 11:08 scripts
-rwxr-xr-x@  1 js  staff   3.5K Oct 29 04:20 start.sh
-rwxr-xr-x@  1 js  staff   1.7K Oct 29 04:21 stop.sh
-rwxr-xr-x@  1 js  staff   7.6K Nov  4 07:59 test_databases_api.py
-rw-r--r--@  1 js  staff   4.9K Nov  4 09:09 test_integrations_api.py
-rw-r--r--@  1 js  staff    12K Nov  3 11:52 test_new_tables.py
-rwxr-xr-x@  1 js  staff   3.6K Nov  4 07:45 test_projects_api.py
-rw-r--r--@  1 js  staff    11K Nov  4 08:12 test_workflow_engine.py
-rw-r--r--@  1 js  staff   6.4K Nov  4 08:20 test_workflows_api.py
drwxr-xr-x@  6 js  staff   192B Oct 29 01:55 venv
-rw-r--r--@  1 js  staff   166B Nov  3 18:57 vercel.json.backup
drwxr-xr-x@ 22 js  staff   704B Nov  4 06:56 web-ui

=== WEB-UI STRUCTURE ===
total 768
drwxr-xr-x@  22 js  staff   704B Nov  4 06:56 .
drwxr-xr-x   77 js  staff   2.4K Nov  4 12:44 ..
-rw-r--r--@   1 js  staff    91B Nov  4 06:55 .env.local
-rw-r--r--@   1 js  staff   480B Oct 29 02:47 .gitignore
drwxr-xr-x@  24 js  staff   768B Nov  4 10:59 .next
-rw-r--r--@   1 js  staff   223B Nov  4 00:02 .npmrc
-rw-r--r--@   1 js  staff   416B Nov  4 00:02 .vercelignore
-rw-r--r--@   1 js  staff   1.4K Oct 29 02:47 README.md
drwxr-xr-x@  15 js  staff   480B Nov  4 10:58 app
drwxr-xr-x@   3 js  staff    96B Nov  4 10:30 components
-rw-r--r--@   1 js  staff   465B Oct 29 02:47 eslint.config.mjs
drwx------@   3 js  staff    96B Nov  3 22:43 lib
-rw-r--r--@   1 js  staff   247B Nov  3 18:54 next-env.d.ts
-rw-r--r--@   1 js  staff   197B Nov  4 00:18 next.config.ts
drwxr-xr-x@ 321 js  staff    10K Nov  4 10:54 node_modules
-rw-r--r--@   1 js  staff   237K Nov  4 10:54 package-lock.json
-rw-r--r--@   1 js  staff   685B Nov  4 10:54 package.json
-rw-r--r--@   1 js  staff    94B Oct 29 02:47 postcss.config.mjs
drwxr-xr-x@   7 js  staff   224B Oct 29 02:47 public
-rw-r--r--@   1 js  staff   749B Nov  3 14:28 tsconfig.json
-rw-r--r--@   1 js  staff    96K Nov  4 08:07 tsconfig.tsbuildinfo
-rw-r--r--@   1 js  staff   104B Nov  4 00:02 vercel.json

=== API STRUCTURE ===
total 192
drwxr-xr-x@  3 js  staff    96B Nov  4 12:03 .
drwxr-xr-x  77 js  staff   2.4K Nov  4 12:44 ..
-rw-r--r--@  1 js  staff    96K Nov  4 12:03 server.py

=== AGENTS STRUCTURE ===
total 296
drwxr-xr-x@ 10 js  staff   320B Nov  4 11:53 .
drwxr-xr-x  77 js  staff   2.4K Nov  4 12:44 ..
-rw-r--r--@  1 js  staff   196B Oct 29 02:13 __init__.py
drwxr-xr-x@  9 js  staff   288B Nov  4 11:53 __pycache__
-rw-r--r--@  1 js  staff    29K Nov  4 00:02 ai_router.py
-rw-r--r--@  1 js  staff   3.4K Nov  4 00:02 auth.py
-rw-r--r--@  1 js  staff    46K Nov  4 07:40 database.py
-rw-r--r--@  1 js  staff    18K Nov  4 08:35 mcp_client.py
-rw-r--r--@  1 js  staff    16K Nov  4 00:02 ranking_collector.py
-rw-r--r--@  1 js  staff    21K Nov  4 08:36 workflow_engine.py

=== PACKAGE.JSON (Frontend) ===
{
  "name": "web-ui",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "NODE_ENV=production next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "lucide-react": "^0.548.0",
    "next": "16.0.1",
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "recharts": "^3.3.0"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.16",
    "@types/node": "^20.19.24",
    "@types/react": "^19.2.2",
    "@types/react-dom": "^19.2.2",
    "babel-plugin-react-compiler": "^1.0.0",
    "eslint": "^9.39.0",
    "eslint-config-next": "^16.0.1",
    "tailwindcss": "^4.1.16",
    "typescript": "^5.9.3"
  }
}

=== REQUIREMENTS.TXT (Backend) ===
# AI Models
anthropic==0.39.0
openai==1.54.3
google-generativeai==0.8.3

# LangChain
langchain==0.3.7
langchain-community==0.3.5
langchain-openai==0.2.5
langchain-anthropic==0.3.0

# Vector DB
qdrant-client==1.12.1

# Database
supabase==2.9.0
psycopg2-binary==2.9.10
redis==5.2.0
sqlalchemy==1.4,<2.1

# Web Framework
fastapi==0.115.4
uvicorn[standard]==0.32.0
pydantic==2.9.2
pydantic-settings==2.6.0

# Utilities
httpx==0.27.2
aiohttp==3.11.2
tenacity==9.0.0
python-dotenv==1.0.1
rich==13.9.4
click==8.1.7
pyyaml==6.0.2

# Auth
bcrypt==4.2.0
PyJWT==2.9.0
email-validator==2.3.0

# Web Scraping (for rankings collector)
beautifulsoup4==4.12.3
requests==2.31.0

# Testing
pytest==8.3.3
pytest-asyncio==0.24.0

=== NEXT.CONFIG.TS ===
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  reactCompiler: true,
  experimental: {
    optimizePackageImports: ['lucide-react'],
  },
};

export default nextConfig;

=== VERCEL.JSON ===

=== SERVER.PY (first 200 lines) ===
"""
FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è AI Development System
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI –∞–≥–µ–Ω—Ç–∞–º–∏
"""
import sys
import os
import logging
import sqlite3
from pathlib import Path
from fastapi import FastAPI, HTTPException, Header, Depends
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel, Field, EmailStr
from typing import Literal, Optional, List, Dict, Any, Union
from datetime import datetime, timedelta
import uvicorn
from fastapi.responses import StreamingResponse
import asyncio
import json

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –∫–æ—Ä–Ω—é –ø—Ä–æ–µ–∫—Ç–∞
sys.path.insert(0, str(Path(__file__).parent.parent))
# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ agents
sys.path.append(str(Path(__file__).parent.parent / "agents"))

from ai_router import AIRouter
from database import get_db
from ranking_collector import RankingCollector
from auth import hash_password, verify_password, create_jwt_token, verify_jwt_token as verify_jwt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger = logging.getLogger(__name__)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI
app = FastAPI(
    title="AI Development System API",
    description="REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI –∞–≥–µ–Ω—Ç–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",
    version="1.0.0"
)

# CORS –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:3000",
        "http://localhost:3001", 
        "http://localhost:3002",
        "http://localhost:5173"  # Vite dev server
    ],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è AI Router
router = AIRouter()

# ============================================
# Pydantic Models (—Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö)
# ============================================

class ChatRequest(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –∫ AI –º–æ–¥–µ–ª–∏"""
    prompt: str = Field(..., description="–¢–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞", min_length=1)
    task_type: Literal['architecture', 'code', 'review', 'test', 'devops', 'research', 'chat', 'general'] = Field(
        default='chat',
        description="–¢–∏–ø –∑–∞–¥–∞—á–∏"
    )
    complexity: int = Field(default=5, ge=1, le=10, description="–°–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á–∏ (1-10)")
    budget: Literal['free', 'cheap', 'medium', 'expensive'] = Field(
        default='cheap',
        description="–ë—é–¥–∂–µ—Ç–Ω—ã–π –ª–∏–º–∏—Ç"
    )
    session_id: Optional[str] = None

class ChatResponse(BaseModel):
    """–û—Ç–≤–µ—Ç –æ—Ç AI"""
    response: str
    model: str
    tokens: int
    cost: float
    error: bool = False

class ProjectRequest(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"""
    idea: str = Field(..., description="–û–ø–∏—Å–∞–Ω–∏–µ –∏–¥–µ–∏ –ø—Ä–æ–µ–∫—Ç–∞", min_length=10)
    budget: Literal['free', 'cheap', 'medium', 'premium'] = Field(
        default='medium',
        description="–ë—é–¥–∂–µ—Ç–Ω—ã–π –ª–∏–º–∏—Ç"
    )

class ProjectResponse(BaseModel):
    """–û—Ç–≤–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞"""
    project_id: str
    architecture: dict
    code: dict
    review: dict
    total_cost: float
    status: str

class StatsResponse(BaseModel):
    """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"""
    calls: int
    tokens: int
    cost: float
    avg_cost_per_call: float
    by_model: dict
    available_models: dict

class HealthResponse(BaseModel):
    """–°—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞"""
    status: str
    services: dict
    router_stats: dict

class HistoryResponse(BaseModel):
    """–û—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤"""
    total: int
    items: list
    page: int
    limit: int

class HistoryStatsResponse(BaseModel):
    """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏"""
    general: dict
    by_model: list
    by_task: list
    by_date: list

# ============================================
# Authentication Models
# ============================================

class RegisterRequest(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    email: EmailStr
    password: str = Field(min_length=8, description="Password (min 8 characters)")

class LoginRequest(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É"""
    email: EmailStr
    password: str

class UserInfo(BaseModel):
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ"""
    id: int
    email: str
    created_at: str
    last_login_at: Optional[str] = None

class AuthResponse(BaseModel):
    """–û—Ç–≤–µ—Ç —Å —Ç–æ–∫–µ–Ω–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"""
    token: str
    user: UserInfo

# ============================================
# Projects Management Models
# ============================================

class ProjectCreate(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"""
    name: str = Field(..., min_length=1, max_length=100, description="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞")
    description: Optional[str] = Field(None, max_length=500, description="–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞")

class ProjectUpdate(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"""
    name: Optional[str] = Field(None, min_length=1, max_length=100, description="–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ")
    description: Optional[str] = Field(None, max_length=500, description="–ù–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ")

class ProjectDetail(BaseModel):
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ"""
    id: int
    user_id: int
    name: str
    description: Optional[str]
    created_at: str
    database_count: int = 0

# ============================================
# Databases Management Models
# ============================================

class ColumnDefinition(BaseModel):
    """–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ —Å—Ö–µ–º–µ"""
    name: str = Field(..., min_length=1, max_length=50, description="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏")
    type: Literal['text', 'number', 'boolean', 'date', 'select'] = Field(..., description="–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö")
    required: bool = Field(default=False, description="–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ")
    options: Optional[List[str]] = Field(None, description="–û–ø—Ü–∏–∏ –¥–ª—è select type")

class DatabaseSchema(BaseModel):
    """–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"""
    columns: List[ColumnDefinition] = Field(..., description="–°–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫", min_length=1)

class DatabaseCreate(BaseModel):
    """–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"""
    project_id: int = Field(..., gt=0, description="ID –ø—Ä–æ–µ–∫—Ç–∞")
    name: str = Field(..., min_length=1, max_length=100, description="–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")
    description: Optional[str] = Field(None, description="–û–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")
    schema: Union[DatabaseSchema, List[Dict[str, Any]]] = Field(..., description="–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")

    class Config:

=== DATABASE.PY (first 200 lines) ===
"""
Database module –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
"""
import sqlite3
import json
from datetime import datetime
from pathlib import Path
from typing import List, Dict, Optional
import logging

logger = logging.getLogger(__name__)

# –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
DB_PATH = Path(__file__).parent.parent / "data" / "history.db"
DB_PATH.parent.mkdir(exist_ok=True)


class HistoryDatabase:
    """–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI"""
    
    def __init__(self, db_path: str = str(DB_PATH)):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"""
        self.db_path = db_path
        self._init_db()
    
    def _init_db(self):
        """–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç"""
        with sqlite3.connect(self.db_path) as conn:
            conn.execute("""
                CREATE TABLE IF NOT EXISTS requests (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    timestamp TEXT NOT NULL,
                    prompt TEXT NOT NULL,
                    response TEXT NOT NULL,
                    model TEXT NOT NULL,
                    task_type TEXT,
                    complexity INTEGER,
                    budget TEXT,
                    tokens INTEGER,
                    cost REAL,
                    error INTEGER DEFAULT 0,
                    user_id TEXT,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP
                )
            """)
            
            # –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_timestamp 
                ON requests(timestamp)
            """)
            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_model 
                ON requests(model)
            """)
            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_task_type 
                ON requests(task_type)
            """)
            
            # –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
            conn.execute("""
                CREATE TABLE IF NOT EXISTS users (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    email TEXT NOT NULL UNIQUE,
                    password_hash TEXT NOT NULL,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    last_login_at TEXT,
                    is_active INTEGER DEFAULT 1
                )
            """)
            
            # –ò–Ω–¥–µ–∫—Å –Ω–∞ email (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ UNIQUE –¥–ª—è –ø–ª–∞–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤)
            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_users_email 
                ON users(email)
            """)
            
            # –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ AI –º–æ–¥–µ–ª–µ–π
            conn.execute("""
                CREATE TABLE IF NOT EXISTS ai_model_rankings (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    category TEXT NOT NULL,
                    model_name TEXT NOT NULL,
                    rank INTEGER NOT NULL,
                    score REAL NOT NULL,
                    source_id INTEGER,
                    notes TEXT,
                    updated_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    UNIQUE(category, model_name)
                )
            """)
            
            # –¢–∞–±–ª–∏—Ü–∞ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
            conn.execute("""
                CREATE TABLE IF NOT EXISTS trusted_sources (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    name TEXT NOT NULL,
                    url TEXT NOT NULL,
                    data_type TEXT,
                    reliability TEXT,
                    format TEXT,
                    last_checked_at TEXT,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP
                )
            """)
            
            # –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_rankings_category
                ON ai_model_rankings(category, rank)
            """)

            # –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
            conn.execute("""
                CREATE TABLE IF NOT EXISTS projects (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    user_id INTEGER NOT NULL,
                    name TEXT NOT NULL,
                    description TEXT,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (user_id) REFERENCES users(id)
                )
            """)

            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_projects_user_id
                ON projects(user_id)
            """)

            # –¢–∞–±–ª–∏—Ü–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö)
            conn.execute("""
                CREATE TABLE IF NOT EXISTS databases (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    project_id INTEGER NOT NULL,
                    name TEXT NOT NULL,
                    schema_json TEXT,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (project_id) REFERENCES projects(id)
                )
            """)

            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_databases_project_id
                ON databases(project_id)
            """)

            # –¢–∞–±–ª–∏—Ü–∞ –∑–∞–ø–∏—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            conn.execute("""
                CREATE TABLE IF NOT EXISTS database_records (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    database_id INTEGER NOT NULL,
                    data_json TEXT NOT NULL,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    updated_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (database_id) REFERENCES databases(id)
                )
            """)

            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_database_records_database_id
                ON database_records(database_id)
            """)

            # –¢–∞–±–ª–∏—Ü–∞ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (workflows)
            conn.execute("""
                CREATE TABLE IF NOT EXISTS workflows (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    user_id INTEGER NOT NULL,
                    name TEXT NOT NULL,
                    trigger_type TEXT NOT NULL,
                    trigger_config TEXT,
                    actions_json TEXT NOT NULL,
                    enabled INTEGER DEFAULT 1,
                    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (user_id) REFERENCES users(id)
                )
            """)

            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_workflows_user_id
                ON workflows(user_id)
            """)

            # –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π workflows
            conn.execute("""
                CREATE TABLE IF NOT EXISTS workflow_executions (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    workflow_id INTEGER NOT NULL,
                    status TEXT NOT NULL,
                    result_json TEXT,
                    error TEXT,
                    executed_at TEXT DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (workflow_id) REFERENCES workflows(id)
                )
            """)

            conn.execute("""
                CREATE INDEX IF NOT EXISTS idx_workflow_executions_workflow_id

=== FRONTEND PAGES ===
total 168
drwxr-xr-x@ 15 js  staff   480B Nov  4 10:58 .
drwxr-xr-x@ 22 js  staff   704B Nov  4 06:56 ..
drwxr-xr-x@  3 js  staff    96B Nov  4 00:26 agents
drwxr-xr-x@  3 js  staff    96B Nov  4 00:04 chat
-rw-r--r--@  1 js  staff    25K Oct 29 02:47 favicon.ico
-rw-r--r--@  1 js  staff   488B Oct 29 02:47 globals.css
drwxr-xr-x@  3 js  staff    96B Nov  4 00:26 history
drwx------@  3 js  staff    96B Nov  4 10:16 integrations
-rw-r--r--@  1 js  staff   916B Nov  4 10:30 layout.tsx
drwxr-xr-x@  3 js  staff    96B Nov  4 00:26 models-ranking
-rw-r--r--@  1 js  staff    20K Nov  4 10:58 page.tsx
-rw-r--r--@  1 js  staff    20K Nov  4 10:58 page.tsx.bak
drwxr-xr-x@  3 js  staff    96B Nov  4 00:05 project
drwxr-xr-x@  3 js  staff    96B Nov  4 08:07 projects
drwx------@  3 js  staff    96B Nov  4 08:32 workflows

=== STATUS.MD ===

=== README.MD ===
# ü§ñ AI Development System

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI –º–æ–¥–µ–ª—è–º–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–æ—É—Ç–∏–Ω–≥–æ–º, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üèÜ AI Models Ranking System
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å HuggingFace –∏ Chatbot Arena
- 7 –∫–∞—Ç–µ–≥–æ—Ä–∏–π: Reasoning, Coding, Vision, Chat, Agents, Translation, Local
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ cron
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–¥–µ–ª–µ–π —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

### üß† Smart AI Router
- –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ø–æ –∑–∞–¥–∞—á–µ, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –±—é–¥–∂–µ—Ç—É
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å —Å–µ—Å—Å–∏–π (–¥–æ 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π)
- **920x speedup** –±–ª–∞–≥–æ–¥–∞—Ä—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é

### üíæ Request Caching
- MD5 —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- TTL –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ (1h-1week)
- SQLite-based —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚è±Ô∏è Rate Limiting
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã RPM –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- Thread-safe —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏

### üí¨ Streaming Chat
- Server-Sent Events (SSE) –¥–ª—è real-time –æ—Ç–≤–µ—Ç–æ–≤
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: –º–æ–¥–µ–ª—å, —Ç–æ–∫–µ–Ω—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å, –∫—ç—à
- Session-based –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º

### üìä Analytics & Reports
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–æ–¥–µ–ª—è–º
- Cost breakdown –∏ token usage
- Top expensive requests
- Hourly distribution
- Cache hit/miss rate

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
autopilot-core/
‚îú‚îÄ‚îÄ agents/                    # üß† AI Logic
‚îÇ   ‚îú‚îÄ‚îÄ database.py           # SQLite ORM + Analytics
‚îÇ   ‚îú‚îÄ‚îÄ ai_router.py          # Smart Model Router
‚îÇ   ‚îú‚îÄ‚îÄ ranking_collector.py # Rankings Scraper
‚îÇ   ‚îî‚îÄ‚îÄ models.py             # Models Config
‚îú‚îÄ‚îÄ api/                      # üîå Backend
‚îÇ   ‚îî‚îÄ‚îÄ server.py            # FastAPI Server (15 endpoints)
‚îú‚îÄ‚îÄ app/                      # üé® Frontend
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx             # Dashboard
‚îÇ   ‚îú‚îÄ‚îÄ chat/                # Chat Interface
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx        # Main Chat
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ history/        # Chat History
‚îÇ   ‚îî‚îÄ‚îÄ models-ranking/      # Rankings UI
‚îú‚îÄ‚îÄ scripts/                  # üõ†Ô∏è Utils
‚îÇ   ‚îú‚îÄ‚îÄ update_rankings.py   # Cron Job
‚îÇ   ‚îú‚îÄ‚îÄ generate_report.py  # Analytics Report
‚îÇ   ‚îî‚îÄ‚îÄ setup_scheduler.sh  # Cron Setup
‚îî‚îÄ‚îÄ data/                     # üíæ Storage
    ‚îî‚îÄ‚îÄ history.db           # SQLite Database
```

## üöÄ Quick Start

### Prerequisites
- Python 3.11+
- Node.js 18+
- npm/pnpm

### üîê Environment Setup

#### 1. Create .env file

```bash
cp .env.example .env
```

#### 2. Generate SECRET_KEY

The SECRET_KEY is required for JWT authentication. Generate a secure key:

```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

Copy the output and paste into `.env`:

```bash
SECRET_KEY=your-generated-secret-here
```

#### 3. Add API Keys

Get API keys from these providers:
- **Gemini**: https://ai.google.dev/
- **Grok**: https://x.ai/
- **OpenRouter**: https://openrouter.ai/

Add to `.env`:

```bash
GEMINI_API_KEY=your-key-here
GROK_API_KEY=your-key-here
OPENROUTER_API_KEY=your-key-here
```

#### 4. Verify Setup

```bash
source venv/bin/activate
python -c "import os; from dotenv import load_dotenv; load_dotenv(); print('‚úÖ SECRET_KEY:', 'SET' if os.getenv('SECRET_KEY') else '‚ùå NOT SET'); print('‚úÖ GEMINI_API_KEY:', 'SET' if os.getenv('GEMINI_API_KEY') else '‚ùå NOT SET')"
```

### Backend Setup
```bash
cd ~/autopilot-core

# Create virtual environment
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt --break-system-packages

# Configure API keys
export GEMINI_API_KEY="your-key"
export GROK_API_KEY="your-key"
export OPENROUTER_API_KEY="your-key"

# Start API server
python api/server.py
# ‚Üí http://localhost:8000
# ‚Üí Docs: http://localhost:8000/docs
```

### Frontend Setup
```bash
cd ~/autopilot-core

# Install dependencies
npm install

# Start dev server
npm run dev
# ‚Üí http://localhost:3000
```

## üìä Database Schema

### Core Tables
- `requests` - –ò—Å—Ç–æ—Ä–∏—è AI –∑–∞–ø—Ä–æ—Å–æ–≤
- `chat_sessions` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–µ—Å—Å–∏–∏
- `session_messages` - –°–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–µ—Å—Å–∏—è—Ö
- `request_cache` - –ö—ç—à –æ—Ç–≤–µ—Ç–æ–≤ (MD5 —Ö—ç—à)
- `ranking_sources` - –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- `ai_model_rankings` - –¢–æ–ø –º–æ–¥–µ–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

## üîå API Endpoints

### Authentication üîê
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/auth/login` - –í—Ö–æ–¥ (–ø–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω)
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (protected)
- `GET /api/protected-example` - –ü—Ä–∏–º–µ—Ä –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ endpoint

### Chat
- `POST /api/chat` - Single request
- `POST /api/chat/stream` - Streaming (SSE)
- `GET /api/chat/history` - –ò—Å—Ç–æ—Ä–∏—è

### Sessions
- `POST /api/sessions/create` - –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è
- `GET /api/sessions` - –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
- `GET /api/sessions/{id}/messages` - –°–æ–æ–±—â–µ–Ω–∏—è
- `DELETE /api/sessions/{id}` - –£–¥–∞–ª–∏—Ç—å

### Stats & Rankings
- `GET /api/stats` - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/models/rankings` - –†–µ–π—Ç–∏–Ω–≥–∏ –º–æ–¥–µ–ª–µ–π
- `GET /api/models/status` - –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–µ–π

### Management
- `GET /api/health` - Health check
- `POST /api/rankings/update` - –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥–∏

## üé® Features

### Dashboard
- Total Requests counter
- Active Models count
- Total Cost tracker
- Average Cost/Request
- Quick navigation cards

### Chat Interface
- ‚úÖ Streaming responses (SSE)
- ‚úÖ Context Memory (session-based)
- ‚úÖ Cache indicators
- ‚úÖ Model/tokens/cost display
- ‚úÖ New Chat button
- ‚úÖ Settings panel (Task Type, Budget, Complexity)

### Models Ranking
- 7 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å —Ç–æ–ø-3 –º–æ–¥–µ–ª—è–º–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- Score, Rank, Notes
- Source links
- Best use cases
- Last update dates

### Chat History
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ/–º–æ–¥–µ–ª–∏
- Export –≤ Markdown
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–µ—Å—Å–∏–∏
- –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π

## üìà Performance

### Caching Impact
- First request: ~1.25s (API call)
- Cached request: ~0.001s (920x faster!)
- Cost savings: $0 for cached requests

### Rate Limits (RPM)
- Gemini 2.0 Flash: 60 RPM
- DeepSeek Chat: 30 RPM
- Grok Beta: 30 RPM
- GPT-4o: 50 RPM
- Claude Sonnet: 50 RPM

### Database Performance
- Cache hit rate: ~40%
- Average query time: <10ms
- Concurrent requests: 50+

## üõ†Ô∏è Scripts & Automation

### Weekly Rankings Update
```bash
python scripts/update_rankings.py --days 7
```

### Setup Cron Job
```bash
chmod +x scripts/setup_scheduler.sh
./scripts/setup_scheduler.sh
# Runs every Monday at 9:00 AM
```

### Generate Analytics Report
```bash
python scripts/generate_report.py --days 7
```

## üìä Analytics Report Example

```
ü§ñ AI MODELS PERFORMANCE REPORT
Period: Last 7 days
Generated: 2025-10-30 15:00:00

üìä SUMMARY
  Total Requests:  1,247
  Total Tokens:    156,892
  Total Cost:      $12.4567
  Unique Models:   8
  Unique Tasks:    5

üéØ MODELS PERFORMANCE
  Model                    Requests   Success   Tokens      Cost
  deepseek/deepseek-chat   524        100.0%    89,234      $8.92
  gemini-2.0-flash         312        100.0%    31,245      $0.00
  gpt-4o                   187        98.9%     28,156      $2.82

üíæ CACHE STATISTICS
  Total Entries:     89
  Total Uses:        456
  Avg Uses/Entry:    5.1
```

## üîê Environment Variables

See [.env.example](.env.example) for the complete list of environment variables.

**Required:**
- `SECRET_KEY` - JWT secret (generate with: `python -c "import secrets; print(secrets.token_urlsafe(32))"`)
- `GEMINI_API_KEY` - Google Gemini API key
- `GROK_API_KEY` - xAI Grok API key
- `OPENROUTER_API_KEY` - OpenRouter API key

**Optional:**
- `TELEGRAM_BOT_TOKEN` - For ranking update notifications
- `TELEGRAM_CHAT_ID` - Telegram chat ID for notifications
- `DATABASE_PATH` - Custom SQLite database path (default: `./data/history.db`)
- `HOST` - Server host (default: `0.0.0.0`)
- `PORT` - Server port (default: `8000`)

## üêõ Troubleshooting

### Backend –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å Python –≤–µ—Ä—Å–∏—é
python --version  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 3.11+

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --break-system-packages
```

### Frontend –æ—à–∏–±–∫–∏
```bash
# –û—á–∏—Å—Ç–∏ –∫—ç—à
rm -rf .next node_modules
npm install
npm run dev
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f "python api/server.py"

# –£–¥–∞–ª–∏ lock —Ñ–∞–π–ª
rm -f data/history.db-journal
```

## üìö Documentation

- **API Docs**: http://localhost:8000/docs
- **Project Rules**: `.cursorrules`
- **Prompts Guide**: `PROMPTS.md`
- **Status**: `STATUS.md`

## üöÄ Roadmap

### –ö—Ä–∏—Ç–∏—á–Ω–æ (Priority 1)
- [x] ~~JWT Authentication~~ ‚úÖ **COMPLETED**
- [ ] API Security (rate limiting per user)
- [ ] Docker containerization
- [ ] Code Agent (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç)

### –í–∞–∂–Ω–æ (Priority 2)
- [ ] Chat History UI (filters, export)
- [ ] File Upload (PDF, DOCX, images)
- [ ] Theme toggle (dark/light)
- [ ] Unit tests (>80% coverage)

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (Priority 3)
- [ ] Mobile app (React Native)
- [ ] Multi-tenancy
- [ ] A/B testing models
- [ ] Telegram bot integration

## ü§ù Contributing

1. Fork the repo
2. Create feature branch
3. Follow `.cursorrules` style
4. Test changes
5. Submit PR

## üìÑ License

MIT License

## üë§ Author

**Your Name**
- GitHub: [@yourusername](https://github.com/yourusername)
- Email: your.email@example.com

---

**Built with ‚ù§Ô∏è using FastAPI, Next.js, and multiple AI models**
=== GIT STATUS ===
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   .gitignore
	deleted:    COMPLETION_REPORT.md
	deleted:    CONTINUE_DEPLOY.md
	deleted:    COPY_PASTE_COMMANDS.txt
	deleted:    DEPLOY_VIA_GIT.md
	deleted:    FINAL_SUMMARY.md
	deleted:    RAILWAY_FINAL.md
	modified:   README_RAILWAY.md
	deleted:    STATUS.md
	deleted:    VERCEL_SIZE_FIX.md
	modified:   agents/database.py
	modified:   api/server.py
	deleted:    deploy_railway_v2.sh
	modified:   web-ui/app/layout.tsx
	modified:   web-ui/app/page.tsx
	modified:   web-ui/components/Navigation.tsx
	modified:   web-ui/package-lock.json
	modified:   web-ui/package.json

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	CLEANUP_PLAN.md
	CURRENT_STATE_ASSESSMENT.md
	INTEGRATION_TEST_RESULTS.md
	MODULE_4_SUMMARY.md
	PROGRESS_SUMMARY.md
	QUICK_VERCEL_DEPLOY.md
	RAILWAY_TEST_RESULTS.md
	SECURITY_CHECK.md
	SECURITY_FINAL_REPORT.md
	TASK_1.3_COMPLETED.md
	TASK_2.1_COMPLETED.md
	TASK_2.2_COMPLETED.md
	TASK_2.3_COMPLETED.md
	TASK_3.1_COMPLETED.md
	TASK_3.2_COMPLETED.md
	TASK_3.3_COMPLETED.md
	TASK_4.1_COMPLETED.md
	TASK_4.2_COMPLETED.md
	TASK_4.3_COMPLETED.md
	TASK_5.1_COMPLETED.md
	TASK_5.2_COMPLETED.md
	TROUBLESHOOTING.md
	VERCEL_DEPLOYMENT_SUMMARY.md
	VERCEL_SETUP.md
	agents/mcp_client.py
	agents/workflow_engine.py
	cleanup.sh
	deploy_vercel.sh
	project_full_analysis.txt
	scripts/integration_test.py
	test_databases_api.py
	test_integrations_api.py
	test_projects_api.py
	test_workflow_engine.py
	test_workflows_api.py
	web-ui/app/integrations/
	web-ui/app/page.tsx.bak
	web-ui/app/projects/
	web-ui/app/workflows/

no changes added to commit (use "git add" and/or "git commit -a")

=== GIT LOG (last 10) ===
cf3f565 fix: Add dynamic rendering to prevent build-time API calls
0211f08 Fix: Remove turbopack.root config conflict
271bd39 feat: Connect frontend to Railway backend API
1031437 Add Railway configuration
b60c498 Fix: Vercel deployment errors - TypeScript, Turbopack, Root Directory
5df643b Fix: Move TypeScript to dependencies for Vercel
f355437 Fix: Deploy web-ui to Vercel + update tsconfig
0c2e423 feat: add get_all_rankings() method and fix /api/rankings endpoint
9e27cea feat: add voice input functionality to chat interface
19d422b feat: add collapsible sidebar with chat history
